---
layout: post
title: 子网掩码、IP地址 和默认网关
category: Network
tags: [子网掩码, IP地址, 默认网关]
keywords: 子网掩码,IP地址,默认网关
excerpt: 子网掩码、IP 地址和默认网关
---

## 子网掩码

子网掩码（subnet mask）又叫网络掩码、地址掩码、子网络遮罩，它是一种用来指明一个 IP 地址的哪些位标识的是主机所在的子网，以及哪些位标识的是主机的位掩码。子网掩码不能单独存在，它必须结合 IP 地址一起使用。

**掩码分类**

* A 类地址：默认的子网掩码是 255.0.0.0

* B 类地址：默认的子网掩码是 255.255.0.0

* C 类地址：默认的子网掩码是 255.255.255.0

最常用的两种子网掩码，B 类地址和 C 类地址。

子网掩码是“255.255.255.0”的网络：最后面一个数字可以在 0~255 范围内任意变化，因此可以提供 256 个 IP 地址。但是实际可用的 IP 地址数量是 256-2，即 254 个，因为主机号不能全是 “0” 或全是 “1”。

子网掩码是“255.255.0.0”的网络：后面两个数字可以在 0~255 范围内任意变化，可以提供 255^2 个 IP 地址。但是实际可用的 IP 地址数量是 255^2-2，即 65023 个。

## IP 地址

IP 地址是给每个连接在 Internet 上的主机分配的一个32位地址。

IP 地址划分成网络地址和主机地址两部分，网络地址的位数直接决定了可以分配的网络数；主机地址的位数则决定了网络中最大的主机数。

IP 地址只能有（2 的 8 次方 -1），即 256-1=255。

一般末位为 0 或者是 255 的都有其特殊的作用。通常不使用。末位 1 通过作为默认网关使用。

IP 地址分为 A、B、C、D、E，5 类。常用的是 B 和 C 两类。

* A 类地址： 网络位 8（7）位 + 主机位 24 位，0******* ******* **************

  IP 范围：1.0.0.0 — 126.255.255.255

  127 网络位是本地测试地址，不能用于数据通讯。

  IP 范围：127.0.0.0 — 127.255.255.255

* B 类地址: 网络位 16（14）位 + 主机位 16 位，10****** ******* **************

  IP 范围：128.0.0.0 — 191.255.255.255

* C类地址：网络位 24（21）位 + 主机位 8 位，110***** ******* **************

  IP 范围：192.0.0.0 — 223.255.255.255

* D 类地址：224.0.0.0 — 239.255.255.255

* E 类地址：240.0.0.0 — 255.255.255.255

## 默认网关

* “网关”均指 TCP/IP 协议下的网关。网关实质上是一个网络通向其他网络的 IP 地址。

  网络 A 和网络 B，网络 A 的 IP 地址范围为“192.168.1.1~192.168.1.254”，子网掩码为 255.255.255.0；

  网络 B 的 IP 地址范围为“192.168.2.1~192.168.2.254”，子网掩码为 255.255.255.0。

  在没有路由器的情况下，两个网络之间是不能进行 TCP/IP 通信的，即使是两个网络连接在同一台交换机（或集线器）上，TCP/IP 协议也会根据子网掩码（255.255.255.0）判定两个网络中的主机处在不同的网络里。

  若实现这两个网络之间的通信，则必须通过网关。如果网络 A 中的主机发现数据包的目的主机不在本地网络中，就把数据包转发给 A 自己的网关，再由网关转发给网络 B 的网关，网络 B 的网关再转发给网络 B 的某个主机。

* 网关的 IP 地址是具有路由功能的设备的 IP 地址，具有路由功能的设备有路由器、启用了路由协议的服务器（实质上相当于一台路由器）、代理服务器（也相当于一台路由器）。

* 一台主机可以有多个网关。默认网关的意思是一台主机如果找不到可用的网关，就把数据包发给默认指定的网关，由这个网关来处理数据包。主机正在使用的网关，一般指的是默认网关。说的直白一点，一般情况下，路由器的 IP 就是网关 IP。

## 参考

[https://blog.csdn.net/ShiMengRan107/article/details/83621671](https://blog.csdn.net/ShiMengRan107/article/details/83621671)
